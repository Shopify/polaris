@import '../../styles/common';

@function progress-bar-height($height: base) {
  $base: 16px;
  $data: (
    small: $base / 2,
    base: $base,
    large: $base * 2,
  );

  @return map-get($data, $height);
}

@keyframes fillup {
  0% {
    width: 0;
  }
}

.ProgressBar {
  overflow: hidden;
  width: 100%;
  background-color: var(--pc-progress-bar-background);
  border-radius: var(--p-border-radius-1);

  @media (forced-colors: active) {
    @include high-contrast-border;
  }
}

.sizeSmall {
  height: progress-bar-height(small);
}

.sizeMedium {
  height: progress-bar-height();
}

.sizeLarge {
  height: progress-bar-height(large);
}

.colorHighlight {
  --pc-progress-bar-background: var(--p-surface-neutral);
  --pc-progress-bar-indicator: var(--p-border-highlight);
}

.colorPrimary {
  --pc-progress-bar-background: var(--p-surface-neutral);
  --pc-progress-bar-indicator: var(--p-action-primary);
}

.colorSuccess {
  --pc-progress-bar-background: var(--p-surface-neutral);
  --pc-progress-bar-indicator: var(--p-border-success);
}

.colorCritical {
  --pc-progress-bar-background: var(--p-surface-neutral);
  --pc-progress-bar-indicator: var(--p-interactive-critical);
}

.Indicator {
  height: inherit;
  width: 0;
  background-color: var(--pc-progress-bar-indicator);

  @media screen and (-ms-high-contrast: active) {
    border: progress-bar-height() solid
      ms-high-contrast-color('selected-text-background');
  }
}
.Animated {
  will-change: width;
  animation: fillup var(--p-duration-500) var(--p-ease);
  transition: width var(--p-duration-500) var(--p-ease);
}

.Progress,
.Label {
  @include visually-hidden;
}
