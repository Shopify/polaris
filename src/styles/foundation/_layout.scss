$navigation-width: 240px !default;
// @TODO simplify media queries so this isn't needed
$dangerous-magic-space-4: 16px;
$dangerous-magic-space-5: 20px;
$dangerous-magic-space-8: 32px;

////
/// Layout
/// @group foundation/layout
////

$layout-width-data: (
  primary: (
    min: 480px,
    max: 662px,
  ),
  secondary: (
    min: 240px,
    max: 320px,
  ),
  one-half-width: (
    base: 450px,
  ),
  one-third-width: (
    base: 240px,
  ),
  nav: (
    base: $navigation-width,
  ),
  page-with-nav: (
    base: 769px,
  ),
  page-content: (
    not-condensed: 680px,
    partially-condensed: 450px,
  ),
  inner-spacing: (
    base: $dangerous-magic-space-4,
  ),
  outer-spacing: (
    min: $dangerous-magic-space-5,
    max: $dangerous-magic-space-8,
  ),
);

/// Returns the list of available layout names.
/// @param {Number} $map - The level of depth to get names from.
/// @return {String} The list of names in the map.

@function available-layout-names($level: 1) {
  $output: '';
  $newline: '\A ';

  @if $level == 1 {
    @each $key, $value in $layout-width-data {
      $output: $output +
        '#{$newline}- #{$key} #{available-layout-names($value, $level + 1)}';
    }
  } @else {
    $output: '(';
    $i: 1;

    @each $key, $value in $layout-width-data {
      $sep: if($i < length($layout-width-data), ', ', '');
      $output: $output +
        '#{$key}#{$sep}#{available-layout-names($value, $level + 1)}';
      $i: $i + 1;
    }

    $output: $output + ')';
  }

  @return $output;
}

/// Returns the widths of the specified column.
/// @param {String} $name - The column name.
/// @return {Number} The width for the column.

@function layout-width($name, $value: base) {
  $fetched-value: map-get(map-get($layout-width-data, $name), $value);

  @if type-of($fetched-value) {
    @return $fetched-value;
  } @else {
    @error 'Column `#{$name} - #{$value}` not found. Available columns: #{available-layout-names()}';
  }
}

$dismiss-icon-size: 32px;

@function top-bar-height() {
  @return 56px;
}

@function mobile-nav-width() {
  @return calc(100vw - (#{$dismiss-icon-size} + #{$dangerous-magic-space-8}));
}

@function nav-min-window-corrected() {
  @return 769px;
}
