import type {API, FileInfo, Options} from 'jscodeshift';

import {hasImportDeclaration} from '../../utilities/imports';

export interface MigrationOptions extends Options {}

export default function transformer(
  fileInfo: FileInfo,
  {jscodeshift: j}: API,
  _: MigrationOptions,
) {
  const source = j(fileInfo.source);

  if (!hasImportDeclaration(j, source, '@shopify/polaris-icons')) {
    return fileInfo.source;
  }

  const majorMinorIcons = source
    .find(j.JSXOpeningElement)
    .filter(j.JSIdentifier)
    .filter((element) => {
      return deprecatedIcons.includes(element.value.name);
    });

  majorMinorIcons.forEach((element) => {
    element.value.name.replace(/Major|Minor/g, '');
  });

  return source.toSource();
}

const deprecatedIcons = [
  'AbandonedCartFilledMajor',
  'AbandonedCartMajor',
  'AccessibilityMajor',
  'ActivitiesMajor',
  'AddCodeMajor',
  'AddImageMajor',
  'AddMajor',
  'AddNoteMajor',
  'AddProductMajor',
  'AdjustMinor',
  'AffiliateMajor',
  'AlertMinor',
  'AnalyticsBarHorizontalMinor',
  'AnalyticsBarStackedMinor',
  'AnalyticsCohortMinor',
  'AnalyticsDonutMinor',
  'AnalyticsFilledMinor',
  'AnalyticsFunnelMinor',
  'AnalyticsLineMinor',
  'AnalyticsMajor',
  'AnalyticsMinor',
  'AnalyticsTableMinor',
  'AnyClickModelMinor',
  'AppExtensionMinor',
  'AppsFilledMajor',
  'AppsMajor',
  'AppsMinor',
  'ArchiveMajor',
  'ArchiveMinor',
  'ArrowDownMinor',
  'ArrowLeftMinor',
  'ArrowRightMinor',
  'ArrowUpMinor',
  'AttachmentFilledMajor',
  'AttachmentMajor',
  'AutomationFilledMajor',
  'AutomationMajor',
  'BackspaceMajor',
  'BalanceFilledMajor',
  'BalanceMajor',
  'BankFilledMajor',
  'BankMajor',
  'BarcodeMajor',
  'BehaviorFilledMajor',
  'BehaviorMajor',
  'BehaviorMinor',
  'BillingStatementDollarFilledMajor',
  'BillingStatementDollarMajor',
  'BillingStatementEuroFilledMajor',
  'BillingStatementEuroMajor',
  'BillingStatementPoundFilledMajor',
  'BillingStatementPoundMajor',
  'BillingStatementRupeeFilledMajor',
  'BillingStatementRupeeMajor',
  'BillingStatementYenFilledMajor',
  'BillingStatementYenMajor',
  'BlockMinor',
  'BlockquoteMajor',
  'BlogMajor',
  'BoldMajor',
  'BoldMinor',
  'BugMajor',
  'ButtonCornerPillMajor',
  'ButtonCornerRoundedMajor',
  'ButtonCornerSquareMajor',
  'ButtonMinor',
  'BuyButtonButtonLayoutMajor',
  'BuyButtonHorizontalLayoutMajor',
  'BuyButtonMajor',
  'BuyButtonVerticalLayoutMajor',
  'CalendarMajor',
  'CalendarMinor',
  'CalendarTickMajor',
  'CalendarTimeMinor',
  'CameraMajor',
  'CancelMajor',
  'CancelMinor',
  'CancelSmallMinor',
  'CapitalFilledMajor',
  'CapitalMajor',
  'CapturePaymentMinor',
  'CardReaderChipMajor',
  'CardReaderMajor',
  'CardReaderTapMajor',
  'CaretDownMinor',
  'CaretUpMinor',
  'CartDownFilledMajor',
  'CartDownMajor',
  'CartFilledMajor',
  'CartMajor',
  'CartUpMajor',
  'CashDollarFilledMajor',
  'CashDollarMajor',
  'CashDollarMinor',
  'CashEuroMajor',
  'CashPoundMajor',
  'CashRupeeMajor',
  'CashYenMajor',
  'CategoriesMajor',
  'ChannelsMajor',
  'ChatMajor',
  'ChecklistAlternateMajor',
  'ChecklistMajor',
  'CheckoutMajor',
  'ChevronDownMinor',
  'ChevronLeftMinor',
  'ChevronRightMinor',
  'ChevronUpMinor',
  'CircleAlertMajor',
  'CircleCancelMajor',
  'CircleCancelMinor',
  'CircleChevronDownMinor',
  'CircleChevronLeftMinor',
  'CircleChevronRightMinor',
  'CircleChevronUpMinor',
  'CircleDisabledMajor',
  'CircleDisableMinor',
  'CircleDotsMajor',
  'CircleDownMajor',
  'CircleInformationMajor',
  'CircleLeftMajor',
  'CircleMinusMajor',
  'CircleMinusMinor',
  'CircleMinusOutlineMinor',
  'CirclePlusMajor',
  'CirclePlusMinor',
  'CirclePlusOutlineMinor',
  'CircleRightMajor',
  'CircleTickMajor',
  'CircleTickMinor',
  'CircleTickOutlineMinor',
  'CircleUpMajor',
  'ClipboardMinor',
  'ClockMajor',
  'ClockMinor',
  'CodeMajor',
  'CodeMinor',
  'CollectionReferenceMinor',
  'CollectionsFilledMajor',
  'CollectionsMajor',
  'ColorNoneMinor',
  'ColorsMajor',
  'Column1Major',
  'Columns2Major',
  'Columns3Major',
  'Columns3Minor',
  'ColumnWithTextMajor',
  'ComposeMajor',
  'ConfettiMajor',
  'ConnectMinor',
  'ContentFilledMinor',
  'ContentMinor',
  'ConversationMinor',
  'CreditCardCancelMajor',
  'CreditCardMajor',
  'CreditCardPercentMajor',
  'CreditCardSecureMajor',
  'CurrencyConvertMinor',
  'CustomerMinusMajor',
  'CustomerPlusMajor',
  'CustomersFilledMinor',
  'CustomersMajor',
  'CustomersMinor',
  'DataDrivenModelMinor',
  'DataVisualizationMajor',
  'DecimalMinor',
  'DeleteMajor',
  'DeleteMinor',
  'DesktopMajor',
  'DetailedPopUpMajor',
  'DiamondAlertMajor',
  'DiamondAlertMinor',
  'DigitalMediaReceiverMajor',
  'DiscountAutomaticMajor',
  'DiscountCodeMajor',
  'DiscountsFilledMinor',
  'DiscountsMajor',
  'DiscountsMinor',
  'DisputeMinor',
  'DnsSettingsMajor',
  'DockFloatingMajor',
  'DockSideMajor',
  'DomainNewMajor',
  'DomainRedirectMinor',
  'DomainsFilledMajor',
  'DomainsMajor',
  'DraftOrdersFilledMajor',
  'DraftOrdersMajor',
  'DragDropMajor',
  'DragHandleMinor',
  'DropdownMinor',
  'DuplicateMinor',
  'DynamicSourceMajor',
  'DynamicSourceMinor',
  'EditMajor',
  'EditMinor',
  'EmailMajor',
  'EmailNewsletterMajor',
  'EmbedMinor',
  'EnableSelectionMinor',
  'EnterMajor',
  'EnvelopeMajor',
  'ExchangeMajor',
  'ExistingInventoryMajor',
  'ExitMajor',
  'ExploreImagesMajor',
  'ExportMinor',
  'ExtendMajor',
  'ExtendMinor',
  'ExternalMinor',
  'ExternalSmallMinor',
  'EyeDropperMinor',
  'FacebookMinor',
  'FaviconMajor',
  'FavoriteMajor',
  'FeaturedCollectionMajor',
  'FeaturedContentMajor',
  'FileFilledMinor',
  'FileMinor',
  'FilterMajor',
  'FilterMinor',
  'FinancesMajor',
  'FinancesMinor',
  'FirstClickModelMinor',
  'FirstOrderMajor',
  'FirstVisitMajor',
  'FlagMajor',
  'FlipCameraMajor',
  'FolderDownMajor',
  'FolderMajor',
  'FolderMinusMajor',
  'FolderPlusMajor',
  'FolderUpMajor',
  'FollowUpEmailMajor',
  'FoodMajor',
  'FooterMajor',
  'FormsMajor',
  'FraudProtectMajor',
  'FraudProtectMinor',
  'FraudProtectPendingMajor',
  'FraudProtectPendingMinor',
  'FraudProtectUnprotectedMajor',
  'FraudProtectUnprotectedMinor',
  'FulfillmentFulfilledMajor',
  'FulfillmentOnHoldMajor',
  'GamesConsoleMajor',
  'GaugeMajor',
  'GaugeMinor',
  'GiftCardFilledMinor',
  'GiftCardMajor',
  'GiftCardMinor',
  'GlobeMajor',
  'GlobeMinor',
  'GrammarMajor',
  'HashtagMajor',
  'HashtagMinor',
  'HeaderMajor',
  'HeartMajor',
  'HideKeyboardMajor',
  'HideMinor',
  'HintMajor',
  'HomeFilledMinor',
  'HomeMajor',
  'HomeMinor',
  'HorizontalDotsMinor',
  'IconsFilledMajor',
  'IconsMajor',
  'IdentityCardFilledMajor',
  'IdentityCardMajor',
  'IllustrationMajor',
  'ImageAltMajor',
  'ImageAltMinor',
  'ImageMajor',
  'ImagesMajor',
  'ImageWithTextMajor',
  'ImageWithTextOverlayMajor',
  'ImportMinor',
  'ImportStoreMajor',
  'InactiveLocationMajor',
  'InactiveLocationMinor',
  'IncomingMajor',
  'IndentMajor',
  'IndentMinor',
  'InfoMinor',
  'InsertDynamicSourceMajor',
  'InsertDynamicSourceMinor',
  'InstagramMinor',
  'InstallMinor',
  'InventoryFilledMajor',
  'InventoryMajor',
  'InviteMinor',
  'IqMajor',
  'ItalicMajor',
  'ItalicMinor',
  'JobsFilledMajor',
  'JobsMajor',
  'KeyboardMajor',
  'KeyboardMinor',
  'KeyMajor',
  'LabelPrinterMajor',
  'LandingPageMajor',
  'LanguageFilledMinor',
  'LanguageMinor',
  'LastClickModelMinor',
  'LastNonDirectClickModelMinor',
  'LegalFilledMajor',
  'LegalMajor',
  'LinearModelMinor',
  'LinkMinor',
  'ListFilledMajor',
  'ListMajor',
  'ListMinor',
  'LiveViewFilledMajor',
  'LiveViewMajor',
  'LocationFilledMajor',
  'LocationMajor',
  'LocationsMinor',
  'LockFilledMajor',
  'LockMajor',
  'LockMinor',
  'LogoBlockMajor',
  'LogOutMinor',
  'MagicMajor',
  'MagicMinor',
  'ManagedStoreMajor',
  'MarketingFilledMinor',
  'MarketingMajor',
  'MarketingMinor',
  'MarketsFilledMajor',
  'MarketsMajor',
  'MarkFulfilledMinor',
  'MarkPaidMinor',
  'MaximizeMajor',
  'MaximizeMinor',
  'MeasurementMinor',
  'MentionMajor',
  'MergeMinor',
  'MetafieldsFilledMinor',
  'MetafieldsMajor',
  'MetafieldsMinor',
  'MetaobjectMinor',
  'MetaobjectReferenceMinor',
  'MicrophoneMajor',
  'MinimizeMajor',
  'MinimizeMinor',
  'MinusMajor',
  'MinusMinor',
  'MobileAcceptMajor',
  'MobileBackArrowMajor',
  'MobileCancelMajor',
  'MobileChevronMajor',
  'MobileHamburgerMajor',
  'MobileHorizontalDotsMajor',
  'MobileMajor',
  'MobilePlusMajor',
  'MobileVerticalDotsMajor',
  'MonerisMajor',
  'MoneyFilledMinor',
  'MoneyMinor',
  'NatureMajor',
  'NavigationMajor',
  'NoteMajor',
  'NoteMinor',
  'NotificationFilledMajor',
  'NotificationMajor',
  'OnlineStoreMajor',
  'OnlineStoreMinor',
  'OrderedListMajor',
  'OrderedListMinor',
  'OrdersFilledMinor',
  'OrdersMajor',
  'OrdersMinor',
  'OrderStatusMinor',
  'OrganizationMajor',
  'OutdentMajor',
  'OutdentMinor',
  'OutgoingMajor',
  'PackageFilledMajor',
  'PackageMajor',
  'PageDownMajor',
  'PageMajor',
  'PageMinusMajor',
  'PagePlusMajor',
  'PageReferenceMinor',
  'PageUpMajor',
  'PaginationEndMinor',
  'PaginationStartMinor',
  'PaintBrushMajor',
  'PaperCheckMajor',
  'PaperCheckMinor',
  'PasskeyFilledMinor',
  'PasskeyMajor',
  'PasskeyMinor',
  'PauseCircleMajor',
  'PauseMajor',
  'PauseMinor',
  'PaymentsFilledMajor',
  'PaymentsMajor',
  'PersonalizedTextMajor',
  'PhoneInMajor',
  'PhoneMajor',
  'PhoneOutMajor',
  'PinMajor',
  'PinMinor',
  'PintrestMinor',
  'PinUnfilledMajor',
  'PinUnfilledMinor',
  'PlanFilledMinor',
  'PlanMajor',
  'PlanMinor',
  'PlayCircleMajor',
  'PlayMajor',
  'PlayMinor',
  'PlusMinor',
  'PointOfSaleMajor',
  'PopularMajor',
  'PositionBasedModelMinor',
  'PriceLookupMinor',
  'PrintMajor',
  'PrintMinor',
  'ProductCostMajor',
  'ProductReferenceMinor',
  'ProductReturnsMinor',
  'ProductsFilledMinor',
  'ProductsMajor',
  'ProductsMinor',
  'ProfileMajor',
  'ProfileMinor',
  'PromoteFilledMinor',
  'PromoteMinor',
  'QuestionMarkInverseMajor',
  'QuestionMarkInverseMinor',
  'QuestionMarkMajor',
  'QuestionMarkMinor',
  'QuickSaleMajor',
  'ReadTimeMinor',
  'ReceiptMajor',
  'RecentSearchesMajor',
  'RedoMajor',
  'ReferralCodeMajor',
  'ReferralMajor',
  'RefreshMajor',
  'RefreshMinor',
  'RefundMajor',
  'RefundMinor',
  'RemoveProductMajor',
  'RepeatOrderMajor',
  'ReplaceMajor',
  'ReplayMinor',
  'ReportFilledMinor',
  'ReportMinor',
  'ReportsMajor',
  'ResetMinor',
  'ResourcesMajor',
  'ReturnMinor',
  'ReturnsMajor',
  'RichTextMinor',
  'RiskMajor',
  'RiskMinor',
  'Rows2Major',
  'SandboxMajor',
  'SaveMinor',
  'SearchMajor',
  'SearchMinor',
  'SectionMajor',
  'SecureMajor',
  'SelectMinor',
  'SendMajor',
  'SettingsFilledMinor',
  'SettingsMajor',
  'SettingsMinor',
  'ShareIosMinor',
  'ShareMinor',
  'ShipmentFilledMajor',
  'ShipmentMajor',
  'ShopcodesMajor',
  'SidebarLeftMajor',
  'SidebarRightMajor',
  'SidekickMajor',
  'SimplifyMajor',
  'SimplifyMinor',
  'SlideshowMajor',
  'SmileyHappyMajor',
  'SmileyJoyMajor',
  'SmileyNeutralMajor',
  'SmileySadMajor',
  'SnapchatMinor',
  'SocialAdMajor',
  'SocialPostMajor',
  'SoftPackMajor',
  'SortAscendingMajor',
  'SortDescendingMajor',
  'SortMinor',
  'SoundMajor',
  'StarFilledMinor',
  'StarOutlineMinor',
  'StatusActiveMajor',
  'StopMajor',
  'StoreDetailsFilledMinor',
  'StoreDetailsMinor',
  'StoreFilledMinor',
  'StoreMajor',
  'StoreMinor',
  'StoreStatusMajor',
  'TabletMajor',
  'TapChipMajor',
  'TaxFilledMajor',
  'TaxMajor',
  'TeamMajor',
  'TemplateMajor',
  'TemplateMinor',
  'TextAlignmentCenterMajor',
  'TextAlignmentLeftMajor',
  'TextAlignmentRightMajor',
  'TextBlockMajor',
  'TextColorMajor',
  'TextColorMinor',
  'TextMajor',
  'ThemeEditMajor',
  'ThemesMajor',
  'ThemeStoreMajor',
  'ThumbsDownMajor',
  'ThumbsDownMinor',
  'ThumbsUpMajor',
  'ThumbsUpMinor',
  'TickMinor',
  'TickSmallMinor',
  'TiktokMinor',
  'TimeDecayModelMinor',
  'TimelineAttachmentMajor',
  'TipsMajor',
  'TitleMinor',
  'ToggleMinor',
  'ToolsMajor',
  'TransactionFeeDollarMajor',
  'TransactionFeeEuroMajor',
  'TransactionFeePoundMajor',
  'TransactionFeeRupeeMajor',
  'TransactionFeeYenMajor',
  'TransactionMajor',
  'TransferFilledMajor',
  'TransferInMajor',
  'TransferMajor',
  'TransferOutMajor',
  'TransferWithinShopifyMajor',
  'TranslateMajor',
  'TransportMajor',
  'TroubleshootMajor',
  'TumblrMinor',
  'TwitchMinor',
  'TwitterMinor',
  'TypeMajor',
  'TypeMinor',
  'UnderlineMajor',
  'UnderlineMinor',
  'UndoMajor',
  'UnfulfilledMajor',
  'UnknownDeviceMajor',
  'UpdateInventoryMajor',
  'UploadMajor',
  'VariantMajor',
  'ViewMajor',
  'ViewMinor',
  'ViewportNarrowMajor',
  'ViewportShortMajor',
  'ViewportTallMajor',
  'ViewportWideMajor',
  'VimeoMinor',
  'VocabularyMajor',
  'VolumeMinor',
  'WandMajor',
  'WandMinor',
  'WearableMajor',
  'WeightMinor',
  'WholesaleMajor',
  'WifiMajor',
  'YoutubeMinor',
];
