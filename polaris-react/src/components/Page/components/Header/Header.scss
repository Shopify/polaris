@import '../../../../styles/common';

$action-menu-rollup-computed-width: 40px;

.TitleWrapper {
  grid-area: title;
  margin-top: var(--p-space-1);
  align-self: center;
  flex: 1 1 auto;

  @media #{$p-breakpoints-sm-up} {
    margin-top: 0;
  }
}

.BreadcrumbWrapper {
  grid-area: breadcrumbs;

  #{$se23} & {
    /* stylelint-disable-next-line selector-max-combinators -- SE23 match button group */
    a,
    button {
      background-color: transparent;
      border-radius: var(--p-border-radius-2);
      box-shadow: none;

      /* stylelint-disable-next-line selector-max-combinators -- SE23 match button group */
      &:hover {
        box-shadow: none;
        background-color: var(--p-color-bg-strong-hover);
      }

      /* stylelint-disable-next-line selector-max-combinators -- SE23 match button group */
      &:focus {
        background-color: var(--p-color-bg-strong-active);
        /* stylelint-disable-next-line declaration-no-important -- SE23 match button group */
        box-shadow: var(--p-shadow-inset-md) !important;
      }
    }
  }
}

.PaginationWrapper {
  margin-left: var(--p-space-1);
  line-height: 1;

  button {
    // stylelint-disable declaration-no-important -- generated by polaris-migrator DO NOT COPY
    border: var(--p-border-width-1) solid var(--p-color-border-strong) !important;
    box-shadow: none !important;

    &:hover,
    &:active,
    &:focus {
      border: var(--p-border-width-1) solid var(--p-color-border-strong) !important;
      // stylelint-enable declaration-no-important
    }
  }

  #{$se23} & {
    margin-left: var(--p-space-2);
  }
}

.PrimaryActionWrapper {
  margin-top: 0;
  margin-left: var(--p-space-1);

  @media #{$p-breakpoints-md-up} {
    margin-left: var(--p-space-2);
  }
}

.Row {
  display: flex;
  justify-content: space-between;
  line-height: normal;

  &:first-child {
    min-height: 36px;

    #{$se23} & {
      min-height: 28px;
    }
  }

  + .Row {
    margin-top: var(--p-space-1);

    #{$se23} & {
      margin-top: var(--p-space-05);
    }
    // stylelint-disable-next-line selector-max-combinators, selector-max-class -- generated by polaris-migrator DO NOT COPY
    .mobileView & {
      margin-top: var(--p-space-2);

      #{$se23} & {
        margin-top: var(--p-space-1);
      }
    }
    // stylelint-disable-next-line selector-max-combinators, selector-max-class -- generated by polaris-migrator DO NOT COPY
    .RightAlign {
      margin-left: 0;
    }
  }
}

.RightAlign {
  grid-area: actions;
  display: flex;
  align-content: flex-end;
  flex: 1 1 auto;
  align-items: center;
  align-self: flex-start;
  justify-content: flex-end;
  margin-left: var(--p-space-4);
  // Necessary for flex to realize this container doesn't want to wrap
  white-space: nowrap;

  .noBreadcrumbs & {
    @media #{$p-breakpoints-sm-down} {
      margin-left: 0;
    }
  }
}

.AdditionalMetaData {
  @media #{$p-breakpoints-sm-up} {
    margin-left: calc(
      var(--p-space-5) * 2 + var(--p-space-2) + var(--p-space-1)
    );
    // Because of this line, we need an additional #{$se23} & specificity buster for .noBreadcrumbs below.
    #{$se23} & {
      margin-left: calc(var(--p-space-5) + var(--p-space-2) + var(--p-space-1));
    }
  }

  .noBreadcrumbs & {
    margin-left: 0;
    // se23 override -- specificity buster for the above margin-left calculation
    // see https://github.com/Shopify/polaris-summer-editions/issues/918
    #{$se23} & {
      margin-left: 0;
    }
  }
}

.Actions {
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: flex-end;
  text-align: right;
}

@mixin condensed-layout {
  .AdditionalMetaData {
    margin-left: 0;
  }

  .Row {
    display: grid;
    gap: var(--p-space-2) var(--p-space-4);
    grid-template-columns: auto 1fr;
    grid-template-areas: 'breadcrumbs actions' 'title title';

    + .Row {
      gap: 0;
    }
  }
}

.longTitle {
  @media #{$p-breakpoints-lg-down} {
    @include condensed-layout;
  }
}

.mediumTitle:not(.noBreadcrumbs) {
  @media #{$p-breakpoints-md-down} {
    @include condensed-layout;
  }
}

.mediumTitle.noBreadcrumbs {
  // stylelint-disable-next-line selector-max-class -- generated by polaris-migrator DO NOT COPY
  .TitleWrapper {
    margin-top: 0;
  }
  // stylelint-disable-next-line selector-max-class -- generated by polaris-migrator DO NOT COPY
  .RightAlign {
    margin-bottom: var(--p-space-1);
    @media #{$p-breakpoints-md-up} {
      margin-bottom: 0;
    }
  }
  // stylelint-disable-next-line selector-max-class -- generated by polaris-migrator DO NOT COPY
  .Row {
    flex-wrap: wrap-reverse;
    @media #{$p-breakpoints-md-up} {
      flex-wrap: nowrap;
    }
  }
}

.isSingleRow .Row {
  gap: 0;
}
