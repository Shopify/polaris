@import '../../styles/common';

.Button {
  // stylelint-disable -- Polaris component custom properties
  --pc-button-micro-min-height: var(--p-font-line-height-2);
  --pc-button-slim-min-height: var(--p-font-line-height-4);
  --pc-button-large-min-height: 44px;
  --pc-button-vertical-padding: calc(
    (36px - var(--p-font-line-height-2) - var(--p-space-05)) / 2
  );
  --pc-button-slim-vertical-padding: calc(
    (
        var(--pc-button-slim-min-height) - var(--p-font-line-height-2) -
          var(--p-space-05)
      ) / 2
  );
  --pc-button-large-vertical-padding: calc(
    (
        var(--pc-button-large-min-height) - var(--p-font-line-height-2) -
          var(--p-space-05)
      ) / 2
  );
  --pc-button-spinner-size: 20px;
  --pc-button-segment: 10;
  --pc-button-focused: 20;
  --pc-button-disclosure-icon-offset: -6px;
  // stylelint-enable
  // stylelint-disable-next-line -- generated by polaris-migrator DO NOT COPY
  @include button-base;

  #{$se23} & {
    // stylelint-disable -- Polaris component custom properties
    --pc-button-shadow: inset 0px -1px 0px #b5b5b5, inset -1px 0px 0px #e3e3e3,
      inset 1px 0px 0px #e3e3e3, inset 0px 1px 0px #e3e3e3;
    --pc-button-shadow-hover: inset 0px -1px 0px #cccccc,
      inset 1px 0px 0px #ebebeb, inset -1px 0px 0px #ebebeb,
      inset 0px 1px 0px #ebebeb;
    --pc-button-shadow-primary: inset 0px -1px 0px rgba(0, 0, 0, 0.25),
      inset 1px 0px 0px rgba(255, 255, 255, 0.25),
      inset -1px 0px 0px rgba(255, 255, 255, 0.25);
    --pc-button-large-min-height: 32px;
    --pc-button-large-vertical-padding: var(--p-space-2);

    box-shadow: var(--pc-button-shadow);
    transition: box-shadow 75ms cubic-bezier(0.19, 0.91, 0.38, 1);
    // stylelint-enable

    &:active {
      // stylelint-disable-next-line polaris/conventions/polaris/custom-property-allowed-list -- se23 temporary styles
      --pc-button-shadow: var(--p-shadow-inset-md);
      background: var(--p-color-bg-active);
      // stylelint-disable selector-max-combinators -- se23
      .Content {
        transform: translateY(1px);
      }
      // stylelint-enable selector-max-combinators
    }

    &:focus:not(.primary):not(.plain),
    &:focus-visible:not(.primary):not(.plain) {
      // stylelint-disable-next-line polaris/conventions/polaris/custom-property-allowed-list -- se23 temporary styles
      box-shadow: var(--pc-button-shadow);
    }

    &:hover {
      // stylelint-disable-next-line polaris/conventions/polaris/custom-property-allowed-list -- se23 temporary styles
      box-shadow: var(--pc-button-shadow-hover);
    }
  }

  &.disabled {
    // stylelint-disable-next-line -- generated by polaris-migrator DO NOT COPY
    @include base-button-disabled;
    #{$se23} & {
      box-shadow: var(--p-shadow-button-disabled-experimental);
      background: var(--p-color-bg-secondary-disabled-experimental);
    }
  }

  &.connectedDisclosure {
    // stylelint-disable-next-line -- generated by polaris-migrator DO NOT COPY
    z-index: var(--pc-button-segment);
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;

    &::after {
      border-top-right-radius: 0;
      border-bottom-right-radius: 0;
    }

    &:focus {
      // stylelint-disable-next-line -- generated by polaris-migrator DO NOT COPY
      z-index: var(--pc-button-focused);
    }

    #{$se23} & {
      // Bump specificity
      border-top-right-radius: 0;
      border-bottom-right-radius: 0;

      &::before {
        border-top-right-radius: 0;
        border-bottom-right-radius: 0;
      }

      &::after {
        border-top-right-radius: 0;
        border-bottom-right-radius: 0;
      }
    }
  }
}

.Content {
  #{$se23} & {
    font-size: var(--p-font-size-80-experimental);
    line-height: var(--p-font-line-height-2);
    transform: translateY(0);
    // stylelint-disable-next-line polaris/motion/declaration-property-unit-disallowed-list -- se23 temporary styles
    transition: transform 75ms cubic-bezier(0.19, 0.91, 0.38, 1);

    @media #{$p-breakpoints-md-up} {
      font-size: var(--p-font-size-75);
      line-height: var(--p-font-line-height-1);
    }
  }
  font-size: var(--p-font-size-100);
  font-weight: var(--p-font-weight-medium);
  line-height: var(--p-font-line-height-1);
  letter-spacing: initial;
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 1px;
  min-height: 1px;

  .Button:not(.plain) & {
    width: 100%;
  }
}

.textAlignLeft {
  justify-content: flex-start;
  text-align: left;

  .Content {
    justify-content: flex-start;
  }
}

.textAlignStart {
  justify-content: flex-start;
  text-align: start;

  .Content {
    justify-content: flex-start;
  }
}

.textAlignCenter {
  justify-content: center;
  text-align: center;
}

.textAlignRight {
  justify-content: flex-end;
  text-align: right;

  .Content {
    justify-content: flex-end;
  }
}

.textAlignEnd {
  justify-content: flex-end;
  text-align: end;

  .Content {
    justify-content: flex-end;
  }
}

.Icon {
  // This compensates for the typical icon used in buttons being
  // inset within its bounding box.
  margin-left: calc(-1 * (var(--p-space-1)));

  #{$se23} & {
    @media #{$p-breakpoints-md-up} {
      margin-top: calc(-1 * var(--p-space-05));
      margin-bottom: calc(-1 * var(--p-space-05));
    }
  }

  &:last-child {
    // This compensates for the disclosure icon, which is substantially
    // inset within the viewbox
    // stylelint-disable-next-line -- generated by polaris-migrator DO NOT COPY
    margin-right: var(--pc-button-disclosure-icon-offset);
    margin-left: var(--p-space-1);

    #{$se23} & {
      margin-left: var(--p-space-05);
    }
  }

  // stylelint-disable-next-line selector-max-class, selector-max-specificity -- generated by polaris-migrator DO NOT COPY
  .fullWidth.textAlignLeft &:last-child:not(:only-child) {
    margin-left: auto;
  }

  + *:not(.Icon) {
    margin-left: var(--p-space-1);

    #{$se23} & {
      margin-left: var(--p-space-05);
    }
  }
}

.hidden {
  visibility: hidden;
}

.Spinner {
  position: absolute;
  top: 50%;
  left: 50%;
  // stylelint-disable-next-line -- generated by polaris-migrator DO NOT COPY
  margin-top: calc(-1 * (var(--pc-button-spinner-size) / 2));
  // stylelint-disable-next-line -- generated by polaris-migrator DO NOT COPY
  margin-left: calc(-1 * (var(--pc-button-spinner-size) / 2));
}

.primary,
.destructive,
.primaryPlain {
  // stylelint-disable-next-line -- generated by polaris-migrator DO NOT COPY
  @include focus-ring($border-width: 0);
  // stylelint-disable-next-line -- generated by polaris-migrator DO NOT COPY
  background: var(--pc-button-color);
  border-width: 0;
  border-color: transparent;
  box-shadow: var(--p-shadow-sm);
  // stylelint-disable-next-line -- generated by polaris-migrator DO NOT COPY
  color: var(--pc-button-text);

  &:hover {
    // stylelint-disable-next-line -- generated by polaris-migrator DO NOT COPY
    background: var(--pc-button-color-hover);
    border-color: transparent;
    // stylelint-disable-next-line -- generated by polaris-migrator DO NOT COPY
    color: var(--pc-button-text);
  }

  &:focus {
    border-color: transparent;
    box-shadow: var(--p-shadow-sm);
  }

  &:active {
    // stylelint-disable-next-line -- generated by polaris-migrator DO NOT COPY
    background: var(--pc-button-color-active);
    border-color: transparent;
    box-shadow: var(--p-shadow-sm);
  }

  &.pressed {
    // stylelint-disable-next-line -- generated by polaris-migrator DO NOT COPY
    color: var(--pc-button-text);
    // stylelint-disable-next-line -- generated by polaris-migrator DO NOT COPY
    background: var(--pc-button-color-depressed);
    border-color: transparent;
    box-shadow: var(--p-shadow-sm);

    &:hover,
    &:focus {
      // stylelint-disable-next-line -- generated by polaris-migrator DO NOT COPY
      background: var(--pc-button-color-depressed);
      box-shadow: var(--p-shadow-sm);
    }
  }

  &.disabled {
    color: var(--p-color-text-disabled);
    box-shadow: none;
    border-color: transparent;

    svg {
      fill: var(--p-color-icon-disabled);
    }
  }
}

.primary {
  // stylelint-disable -- Polaris component custom properties
  --pc-button-color: var(--p-color-bg-primary);
  --pc-button-text: var(--p-color-text-on-color);
  --pc-button-color-hover: var(--p-color-bg-primary-hover);
  --pc-button-color-active: var(--p-color-bg-primary-active);
  --pc-button-color-depressed: var(--p-color-bg-primary-active);
  // stylelint-enable

  #{$se23} & {
    box-shadow: none;

    &::before {
      /* shine */
      // stylelint-disable -- se23 temporary styles
      content: '';
      position: absolute;
      left: 0.5px;
      right: 0.5px;
      top: 0.5px;
      bottom: 0.5px;
      background: linear-gradient(
        180deg,
        rgba(255, 255, 255, 0) 88.54%,
        rgba(255, 255, 255, 0.11) 100%
      );
      box-shadow: var(--p-shadow-button-primary-strong-experimental);
      border-radius: 7.5px;
      opacity: 1;
      transition: opacity 75ms cubic-bezier(0.19, 0.91, 0.38, 1);
      // stylelint-enable
    }

    &:hover {
      // stylelint-disable polaris/conventions/polaris/custom-property-allowed-list -- se23 temporary styles
      --pc-button-text: var(--p-color-text-inverse);
      box-shadow: var(--pc-button-shadow-primary);
      // stylelint-enable polaris/conventions/polaris/custom-property-allowed-list

      &::before {
        box-shadow: var(--p-shadow-button-primary-strong-hover-experimental);
      }

      // stylelint-disable-next-line selector-max-combinators -- se23 temporary styles
      svg {
        fill: var(--p-color-text-inverse);
      }
    }

    &:active {
      // stylelint-disable polaris/conventions/polaris/custom-property-allowed-list -- se23 temporary styles
      --pc-button-text: var(--p-color-text-inverse-subdued);
      background: var(--pc-button-color-active);
      // stylelint-enable polaris/conventions/polaris/custom-property-allowed-list
      box-shadow: var(--p-shadow-button-primary-inset-experimental);
      // stylelint-enable-next-line length-zero-no-unit
      &::before {
        opacity: 0;
      }

      // stylelint-disable-next-line selector-max-combinators -- se23 temporary styles
      svg {
        fill: var(--p-color-text-inverse-subdued);
      }
    }

    &.disabled {
      // stylelint-disable-next-line polaris/conventions/polaris/custom-property-allowed-list -- se23 temporary styles
      color: var(--pc-button-text);
      background: var(--p-color-bg-primary-disabled-experimental);
      box-shadow: none;

      &::before {
        display: none;
      }

      // stylelint-disable-next-line selector-max-combinators -- se23 temporary styles
      svg {
        // stylelint-disable-next-line polaris/conventions/polaris/custom-property-allowed-list -- se23 temporary styles
        fill: var(--pc-button-text);
      }
    }

    &.destructive,
    &.success {
      &::before {
        // adjust shine for destructive and success buttons
        box-shadow: var(--p-shadow-button-primary-experimental);
        background: none;
      }

      &:hover {
        // stylelint-disable-next-line polaris/conventions/polaris/custom-property-allowed-list -- se23 temporary styles
        --pc-button-text: var(--p-color-text-inverse);
        // stylelint-disable-next-line max-nesting-depth -- se23 temporary styles
        &::before {
          box-shadow: var(--p-shadow-button-primary-hover-experimental);
        }

        // stylelint-disable-next-line selector-max-combinators, max-nesting-depth -- se23 temporary styles
        svg {
          fill: var(--p-color-text-inverse);
        }
      }

      &:active {
        // stylelint-disable-next-line polaris/conventions/polaris/custom-property-allowed-list -- se23 temporary styles
        --pc-button-text: var(--p-color-text-inverse-subdued);
        box-shadow: var(--p-shadow-button-inset-experimental);

        // stylelint-disable-next-line selector-max-combinators, max-nesting-depth -- se23 temporary styles
        svg {
          fill: var(--p-color-text-inverse-subdued);
        }
      }
    }

    &.destructive {
      // stylelint-disable -- Polaris component custom properties
      --pc-button-color: var(--p-color-bg-critical-strong);
      --pc-button-text: var(--p-color-text-on-color);
      --pc-button-color-hover: var(--p-color-bg-critical-strong-hover);
      --pc-button-color-active: var(--p-color-bg-critical-strong-active);
      --pc-button-color-depressed: var(--p-color-bg-critical-strong-active);
      // stylelint-enable

      &:not(.disabled) {
        box-shadow: none;
      }

      // stylelint-disable-next-line selector-max-combinators -- se23 temporary styles
      svg {
        fill: var(--p-color-icon-on-color);
      }

      &:active {
        box-shadow: var(--p-shadow-inset-lg);
      }

      // stylelint-disable-next-line selector-max-class -- se23 temporary styles
      &.disabled {
        // stylelint-disable-next-line selector-max-class, max-nesting-depth -- se23 temporary styles
        &::before {
          display: none;
        }

        // stylelint-disable-next-line selector-max-combinators, max-nesting-depth, selector-max-class -- se23 temporary styles
        svg {
          // stylelint-disable-next-line polaris/conventions/polaris/custom-property-allowed-list -- se23 temporary styles
          fill: var(--pc-button-text);
        }
      }
    }

    &.success {
      // stylelint-disable -- Polaris component custom properties
      --pc-button-color: var(--p-color-bg-success-strong);
      --pc-button-text: var(--p-color-text-on-color);
      --pc-button-color-hover: var(
        --p-color-bg-success-strong-hover-experimental
      );
      --pc-button-color-active: var(
        --p-color-bg-success-strong-active-experimental
      );
      --pc-button-color-depressed: var(
        --p-color-bg-success-strong-active-experimental
      );
      // stylelint-enable
      box-shadow: none;
    }
  }

  svg {
    fill: var(--p-color-icon-on-color);
  }

  &.disabled {
    background: var(--p-color-bg-disabled);
  }
}

.destructive {
  // stylelint-disable -- Polaris component custom properties
  --pc-button-color: var(--p-color-bg-critical-strong);
  --pc-button-text: var(--p-color-text-on-color);
  --pc-button-color-hover: var(--p-color-bg-critical-strong-hover);
  --pc-button-color-active: var(--p-color-bg-critical-strong-active);
  --pc-button-color-depressed: var(--p-color-bg-critical-strong-active);
  // stylelint-enable

  svg {
    fill: var(--p-color-icon-on-color);
  }

  &.disabled {
    background: var(--p-color-bg-disabled);
  }

  #{$se23} & {
    // stylelint-disable -- Polaris component custom properties
    --pc-button-color: var(--p-color-bg);
    --pc-button-text: var(--p-color-text-critical);
    --pc-button-color-hover: var(--p-color-bg-hover);
    --pc-button-color-active: var(--p-color-bg-active);
    --pc-button-color-depressed: var(--p-color-bg-active);
    // stylelint-enable

    // stylelint-disable-next-line polaris/conventions/polaris/custom-property-allowed-list -- se23 temporary styles
    box-shadow: var(--pc-button-shadow);

    // stylelint-disable-next-line selector-max-combinators -- se23 temporary styles
    svg {
      // stylelint-disable-next-line polaris/conventions/polaris/custom-property-allowed-list -- se23 temporary styles
      fill: var(--pc-button-text);
    }

    &.disabled {
      // stylelint-disable-next-line selector-max-combinators -- se23 temporary styles
      svg {
        fill: var(--p-color-text-disabled);
      }
    }

    &:focus,
    &:focus-visible {
      // stylelint-disable-next-line polaris/conventions/polaris/custom-property-allowed-list -- se23 temporary styles
      box-shadow: var(--pc-button-shadow);
    }
  }
}

.primaryPlain {
  // stylelint-disable -- Polaris component custom properties
  --pc-button-color: var(--p-color-bg-interactive-subdued-active);
  --pc-button-text: var(--p-color-text-interactive-hover);
  --pc-button-color-hover: var(--p-color-bg-interactive-subdued-active);
  --pc-button-color-active: var(--p-color-bg-interactive-subdued-active);
  --pc-button-color-depressed: var(--p-surface-selected-depressed);
  // stylelint-enable
  box-shadow: none;

  path {
    fill: var(--p-color-icon-on-color);
  }

  &:is(:hover, :focus, :active) {
    color: var(--p-color-text-interactive-active);
    box-shadow: none;
  }

  &.disabled {
    background: var(--p-color-bg-disabled);
  }

  #{$se23} & {
    // stylelint-disable polaris/conventions/polaris/custom-property-allowed-list -- se23 temporary styles
    --pc-button-color: transparent;
    --pc-button-text: var(--p-color-text);
    --pc-button-color-hover: var(--p-color-bg-transparent-hover-experimental);
    --pc-button-color-active: var(--p-color-bg-transparent-active-experimental);
    // stylelint-enable polaris/conventions/polaris/custom-property-allowed-list -- se23 temporary styles
    box-shadow: none;

    // stylelint-disable-next-line selector-max-combinators -- se23 temporary styles
    path {
      // stylelint-disable-next-line polaris/conventions/polaris/custom-property-allowed-list -- se23 temporary styles
      fill: var(--pc-button-text);
    }

    &:active {
      box-shadow: none;
      // stylelint-disable-next-line polaris/conventions/polaris/custom-property-allowed-list -- se23 temporary styles
      color: var(--pc-button-text);

      // stylelint-disable-next-line selector-max-combinators -- se23 temporary styles
      .Content {
        transform: translateY(0);
      }
    }

    &:hover {
      box-shadow: none;
    }

    &:hover,
    &:focus:not(.disabled) {
      text-decoration: none;
      // stylelint-disable-next-line polaris/conventions/polaris/custom-property-allowed-list -- se23 temporary styles
      color: var(--pc-button-text);
    }

    &::before {
      display: none;
    }

    &.disabled {
      // stylelint-disable polaris/conventions/polaris/custom-property-allowed-list -- se23 temporary styles
      --pc-button-text: var(--p-color-text-disabled);
      // stylelint-enable polaris/conventions/polaris/custom-property-allowed-list -- se23 temporary styles
      background: transparent;
    }

    &.destructive {
      // stylelint-disable polaris/conventions/polaris/custom-property-allowed-list -- se23 temporary styles
      --pc-button-color: transparent;
      --pc-button-text: var(--p-color-text-critical);
      --pc-button-color-hover: var(--p-color-bg-transparent-hover-experimental);
      --pc-button-color-active: var(
        --p-color-bg-transparent-active-experimental
      );
      // stylelint-enable polaris/conventions/polaris/custom-property-allowed-list

      // stylelint-disable-next-line selector-max-class -- se23 temporary styles
      &.destructive {
        box-shadow: none;
      }

      // stylelint-disable-next-line selector-max-class -- se23 temporary styles
      &.disabled {
        // stylelint-disable-next-line polaris/conventions/polaris/custom-property-allowed-list -- se23 temporary styles
        --pc-button-text: var(--p-color-text-disabled);
        background: transparent;
      }
    }

    &.iconOnly {
      margin: calc(-1 * var(--p-space-1));
    }
  }
}

.outline {
  background: transparent;
  border: var(--p-border-width-1) solid var(--p-color-border);
  box-shadow: none;
  color: var(--p-color-text);
  // stylelint-disable-next-line -- generated by polaris-migrator DO NOT COPY
  @include focus-ring($border-width: 1px);

  &:hover {
    border: var(--p-border-width-1) solid var(--p-color-border);
    box-shadow: none;
    background: var(--p-color-bg-hover);
  }

  &:focus-visible {
    border: var(--p-border-width-1) solid var(--p-color-border);
    box-shadow: none;
    // stylelint-disable-next-line -- generated by polaris-migrator DO NOT COPY
    @include focus-ring($style: 'focused');
  }

  &:active {
    border: var(--p-border-width-1) solid var(--p-color-border);
    box-shadow: none;
    background: var(--p-color-bg-active);

    &::after {
      box-shadow: none;
    }
  }

  &.pressed {
    background: var(--p-color-bg-subdued-active);
    border: var(--p-border-width-1) solid var(--p-color-border);
    box-shadow: none;
    // stylelint-disable-next-line -- generated by polaris-migrator DO NOT COPY
    color: var(--pc-button-text);
  }

  &.disabled {
    border: var(--p-border-width-1) solid var(--p-color-border-disabled);
    color: var(--p-color-text-disabled);
    background: transparent;
    box-shadow: none;
  }

  &.destructive {
    background: transparent;
    border: var(--p-border-width-1) solid var(--p-color-border-critical);
    box-shadow: none;
    color: var(--p-color-text-critical);

    svg {
      fill: var(--p-color-icon-critical);
    }

    &:hover {
      border: var(--p-border-width-1) solid var(--p-color-border-critical);
      background: var(--p-color-bg-critical-subdued);
    }

    &:focus-visible {
      border: var(--p-border-width-1) solid var(--p-color-border-critical);
      // stylelint-disable-next-line -- generated by polaris-migrator DO NOT COPY
      @include focus-ring($style: 'focused');
    }

    &:active {
      border: var(--p-border-width-1) solid var(--p-color-border-critical);
      background: var(--p-color-bg-critical-subdued);
    }

    // stylelint-disable-next-line selector-max-class -- too many classes
    &.disabled {
      border: var(--p-border-width-1) solid var(--p-color-border-disabled);
      background: transparent;
      color: var(--p-color-text-disabled);
    }

    // stylelint-disable-next-line selector-max-class -- too many classes
    &.pressed {
      border: var(--p-border-width-1) solid var(--p-color-border-critical);
      background: var(--p-color-bg-critical-subdued);
      color: var(--p-color-text-critical);
    }
  }
}

.disabled {
  cursor: default;
  pointer-events: none;
}

.loading {
  position: relative;

  &,
  &:hover,
  &.disabled {
    color: transparent;
  }
}

.loading.disabled svg {
  fill: var(--p-color-icon-subdued);
}

// The way the designs work, we need to do lots of reaching down to
// target the content in pseudo-selectors, so we need higher specificity
// in this case.
// stylelint-disable selector-max-specificity, selector-max-class -- generated by polaris-migrator DO NOT COPY
.plain {
  // stylelint-disable-next-line -- polaris/conventions/polaris/custom-property-allowed-list
  margin: calc(-1 * var(--pc-button-vertical-padding))
    calc(-1 * var(--p-space-2));
  padding-left: var(--p-space-2);
  padding-right: var(--p-space-2);
  background: transparent;
  border: 0;
  box-shadow: none;
  color: var(--p-color-text-interactive);

  #{$se23} & {
    box-shadow: none;
    // stylelint-disable-next-line -- polaris/conventions/polaris/custom-property-allowed-list
    margin: calc(-1 * var(--pc-button-vertical-padding))
      calc(-1 * var(--p-space-3));
  }

  svg {
    fill: var(--p-color-icon-interactive);
  }

  > .Content {
    font-weight: var(--p-font-weight-regular);
    // stylelint-disable-next-line -- generated by polaris-migrator DO NOT COPY
    @include focus-ring;

    #{$se23} & {
      line-height: var(--p-font-line-height-2);
      font-size: var(--p-font-size-80-experimental);
      // stylelint-disable-next-line -- se23 override
      @include no-focus-ring;
    }
  }

  &:hover,
  &:focus:not(.disabled) {
    color: var(--p-color-text-interactive-hover);
    background: transparent;
    box-shadow: none;

    #{$se23} & {
      box-shadow: none;
    }

    svg {
      fill: var(--p-color-icon-interactive-hover);
    }

    &:not(.removeUnderline) {
      text-decoration: underline;
    }
  }

  &.pressed,
  &:active {
    color: var(--p-color-text-interactive-active);
    background: transparent;
    box-shadow: none;

    #{$se23} & {
      background-color: transparent;
      // Specificity bump
      color: var(--p-color-text-interactive-active);

      // stylelint-disable-next-line -- se23 override
      > .Content {
        transform: translateY(0);
      }
    }

    svg {
      fill: var(--p-color-icon-interactive-active);

      #{$se23} & {
        // Specificity bump
        fill: var(--p-color-icon-interactive-active);
      }
    }

    @media (-ms-high-contrast: active) {
      outline: none;
    }
  }

  &:focus-visible {
    // stylelint-disable-next-line -- generated by polaris-migrator DO NOT COPY
    @include no-focus-ring;

    #{$se23} & {
      outline: none;
    }

    @media (-ms-high-contrast: active) {
      outline: none;
    }

    > .Content {
      @media (-ms-high-contrast: active) {
        outline: var(--p-border-width-2) dotted;
      }
      #{$se23} & {
        outline: var(--p-border-width-2) solid
          var(--p-color-border-interactive-focus);
        outline-offset: var(--p-space-05);
        border-radius: var(--p-border-radius-2);
      }
    }
  }

  &:focus-visible:not(:active) {
    > .Content {
      // stylelint-disable-next-line -- generated by polaris-migrator DO NOT COPY
      @include focus-ring($style: 'focused');

      #{$se23} & {
        // stylelint-disable-next-line -- se23 override
        @include no-focus-ring;
      }
    }
  }

  &:active:not(.iconOnly) > .Content,
  &.pressed:not(.iconOnly) > .Content {
    // stylelint-disable-next-line -- generated by polaris-migrator DO NOT COPY
    @include plain-button-backdrop;

    #{$se23} & {
      padding: unset;
      margin: unset;
    }
  }

  &.fullWidth {
    margin-left: 0;
    margin-right: 0;
  }

  &.disabled {
    color: var(--p-color-text-disabled);
    background: none;

    #{$se23} & {
      box-shadow: none;
      background: none;
    }

    &.loading {
      color: transparent;
    }
  }

  &.destructive {
    color: var(--p-color-text-critical);

    #{$se23} & {
      box-shadow: none;
    }

    svg {
      fill: var(--p-color-icon-critical);

      #{$se23} & {
        fill: var(--p-color-icon-critical-strong-experimental);
      }
    }

    &:hover {
      color: var(--p-color-bg-critical-strong-hover);
    }

    #{$se23} &:hover,
    #{$se23} &:focus:not(:active, .pressed, .disabled) {
      color: var(--p-color-text-critical-hover-experimental);

      // stylelint-disable-next-line -- se23 override
      svg {
        fill: var(--p-color-icon-critical-strong-hover-experimental);
      }
    }

    &:active,
    &.pressed {
      color: var(--p-color-text-critical-active);

      #{$se23} & {
        // Specificity bump
        color: var(--p-color-text-critical-active);

        // stylelint-disable-next-line -- se23 override
        svg {
          fill: var(--p-color-icon-critical-strong-active-experimental);
        }
      }
    }

    &.disabled {
      color: var(--p-color-text-disabled);

      #{$se23} & svg {
        fill: var(--p-color-icon-disabled);
      }
    }
  }

  &.sizeSlim {
    // stylelint-disable-next-line -- generated by polaris-migrator DO NOT COPY
    margin-top: calc(-1 * var(--pc-button-slim-vertical-padding));
    // stylelint-disable-next-line -- generated by polaris-migrator DO NOT COPY
    margin-bottom: calc(-1 * var(--pc-button-slim-vertical-padding));
  }

  &.sizeLarge {
    // stylelint-disable -- polaris/conventions/polaris/custom-property-allowed-list
    margin: calc(-1 * var(--pc-button-large-vertical-padding))
      calc(-1 * var(--p-space-5));
    // stylelint-enable -- polaris/conventions/polaris/custom-property-allowed-list
  }

  &.iconOnly {
    margin: calc(-1 * var(--p-space-2));

    #{$se23} & {
      margin: 0;
      padding: 0;
      min-height: var(--p-font-line-height-2);
      min-width: var(--p-font-line-height-2);
    }

    svg {
      fill: var(--p-color-icon);
    }

    &:hover svg {
      fill: var(--p-color-icon-hover);
    }

    &:active svg,
    &.pressed svg {
      fill: var(--p-color-icon-active);

      #{$se23} & {
        // Specificity bump
        fill: var(--p-color-icon-active);
      }
    }

    &:focus svg {
      #{$se23} & {
        // Specificity bump
        fill: var(--p-color-icon-hover);
      }
    }

    &.disabled svg {
      fill: var(--p-color-icon-disabled);

      #{$se23} & {
        // Specificity bump
        fill: var(--p-color-icon-disabled);
      }
    }
  }

  &.destructive.iconOnly {
    svg {
      fill: var(--p-color-bg-critical-strong);

      #{$se23} & {
        fill: var(--p-color-icon-critical-strong-experimental);
      }
    }

    &:hover svg {
      fill: var(--p-color-bg-critical-strong-hover);

      #{$se23} & {
        fill: var(--p-color-icon-critical-strong-experimental);
      }
    }

    #{$se23} &:focus:not(:active, .pressed, .disabled) svg {
      fill: var(--p-color-icon-critical-strong-experimental);
    }

    &:active svg,
    &.pressed svg {
      fill: var(--p-color-bg-critical-strong-active);

      #{$se23} & {
        fill: var(--p-color-icon-critical-strong-experimental);
      }
    }

    &.disabled svg {
      fill: var(--p-color-bg-disabled);

      #{$se23} & {
        // Specificity bump
        fill: var(--p-color-icon-disabled);
      }
    }
  }

  .Icon {
    margin-left: 0;
    margin-right: 0;
  }
}

.fullWidth {
  display: flex;
  width: 100%;
}

.iconOnly {
  padding-left: var(--p-space-2);
  padding-right: var(--p-space-2);

  #{$se23} & {
    padding-left: var(--p-space-1_5-experimental);
    padding-right: var(--p-space-1_5-experimental);

    @media #{$p-breakpoints-md-up} {
      padding-left: var(--p-space-1);
      padding-right: var(--p-space-1);
    }
  }

  &.sizeLarge {
    padding-left: var(--p-space-3);
    padding-right: var(--p-space-3);

    #{$se23} & {
      // stylelint-disable polaris/conventions/polaris/custom-property-allowed-list -- se23 temporary styles
      padding-left: var(--pc-button-large-vertical-padding);
      padding-right: var(--pc-button-large-vertical-padding);
      // stylelint-enable polaris/conventions/polaris/custom-property-allowed-list -- se23 temporary styles

      @media #{$p-breakpoints-md-up} {
        padding-left: var(--p-space-1_5-experimental);
        padding-right: var(--p-space-1_5-experimental);
      }
    }
  }

  &.sizeSlim {
    padding-left: var(--p-space-1);
    padding-right: var(--p-space-1);
  }

  .Icon:first-child {
    margin-left: 0;

    #{$se23} & {
      margin-left: 0;
    }
  }

  .Icon:last-child {
    margin-right: calc(-1 * var(--p-space-1));
  }

  .Icon:only-child {
    margin-right: 0;
  }
}

.sizeMicro {
  border-radius: var(--p-border-radius-1);
  padding: var(--p-space-1) var(--p-space-2);
  // stylelint-disable-next-line -- custom property
  min-height: var(--pc-button-micro-min-height);

  .Content {
    font-size: var(--p-font-size-100);
    font-weight: var(--p-font-weight-semibold);
    line-height: var(--p-font-line-height-2);
  }

  @media #{$p-breakpoints-md-up} {
    padding: var(--p-space-05) var(--p-space-2);

    .Content {
      font-size: var(--p-font-size-75);
      line-height: var(--p-font-line-height-1);
    }
  }
}

.sizeSlim {
  // stylelint-disable-next-line -- generated by polaris-migrator DO NOT COPY
  min-height: var(--pc-button-slim-min-height);
  // stylelint-disable-next-line -- generated by polaris-migrator DO NOT COPY
  padding: var(--pc-button-slim-vertical-padding) var(--p-space-3);
}

.sizeLarge {
  // stylelint-disable-next-line -- generated by polaris-migrator DO NOT COPY
  min-height: var(--pc-button-large-min-height);
  // stylelint-disable-next-line -- generated by polaris-migrator DO NOT COPY
  min-width: var(--pc-button-large-min-height);
  // stylelint-disable-next-line -- generated by polaris-migrator DO NOT COPY
  padding: var(--pc-button-large-vertical-padding) var(--p-space-6);

  .Content {
    font-size: var(--p-font-size-200);
    font-weight: var(--p-font-weight-medium);
    line-height: var(--p-font-line-height-2);
    letter-spacing: initial;
  }

  #{$se23} & {
    // stylelint-disable polaris/conventions/polaris/custom-property-allowed-list -- se23 temporary styles
    min-height: var(--pc-button-large-min-height);
    min-width: var(--pc-button-large-min-height);
    padding: var(--pc-button-large-vertical-padding) var(--p-space-3);
    // stylelint-enable polaris/conventions/polaris/custom-property-allowed-list -- se23 temporary styles

    // stylelint-disable selector-max-combinators -- se23 temporary styles
    .Content {
      font-size: var(--p-font-size-80-experimental);
    }
    // stylelint-enable selector-max-combinators -- se23 temporary styles
  }
}

// stylelint-disable selector-max-specificity -- generated by polaris-migrator DO NOT COPY
.monochrome {
  &.outline,
  &.plain {
    color: currentColor;

    svg {
      fill: currentColor;
    }

    &:hover,
    &:focus,
    &:active {
      color: currentColor;

      svg {
        fill: currentColor;
      }
    }

    // stylelint-disable selector-max-class -- generated by polaris-migrator DO NOT COPY
    &.disabled {
      color: currentColor;
      opacity: 0.4;

      svg {
        fill: currentColor;
      }
    }

    // Prevents the loading spinner from overlapping the buttonâ€™s text, while retaining its width.
    &.loading .Text {
      visibility: hidden;
    }

    &.iconOnly {
      svg {
        fill: currentColor;
      }

      &:focus svg,
      &:active svg {
        fill: currentColor;
      }

      &.disabled svg {
        fill: currentColor;
      }
    }
    // stylelint-enable selector-max-class
  }

  &.plain {
    // stylelint-disable selector-max-class -- generated by polaris-migrator DO NOT COPY
    .Text:not(.removeUnderline) {
      text-decoration: underline;
    }
    // stylelint-enable selector-max-class
  }

  &.outline {
    position: relative;
    border-color: currentColor;
    // stylelint-disable selector-max-class -- generated by polaris-migrator DO NOT COPY
    box-shadow: 0 0 0 var(--p-border-width-1) currentColor;
    // stylelint-disable-next-line -- generated by polaris-migrator DO NOT COPY
    @include focus-ring($border-width: 2px);

    &::before {
      content: '';
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      background-color: currentColor;
      opacity: 0;
      // stylelint-disable-next-line -- generated by polaris-migrator DO NOT COPY
      z-index: 0;
    }

    &.pressed {
      background: transparent;
      box-shadow: none;
      color: currentColor;

      &::before {
        opacity: 0.2;
      }
    }

    &:hover,
    &:focus,
    &:active {
      background-color: transparent;
      border-color: currentColor;

      &::before {
        opacity: 0.07;
      }
    }

    &:focus-visible {
      box-shadow: 0 0 0 var(--p-border-width-1) currentColor;
      // stylelint-disable-next-line -- generated by polaris-migrator DO NOT COPY
      @include focus-ring($style: 'focused');
    }

    &:active::after {
      box-shadow: none;
    }

    &:hover,
    &:active {
      &::before {
        opacity: 0.05;
      }
    }
    // stylelint-enable selector-max-class
  }
}
// stylelint-enable selector-max-specificity

.ConnectedDisclosureWrapper {
  display: flex;
}

.ConnectedDisclosure {
  // stylelint-disable-next-line -- generated by polaris-migrator DO NOT COPY
  z-index: var(--pc-button-segment);
  margin-left: calc(-1 * var(--p-space-025));
  border-top-left-radius: 0;
  border-bottom-left-radius: 0;
  height: 100%;

  // Bump specificity
  #{$se23} & {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
    margin-left: calc(-1 * var(--p-space-05));

    &::before {
      border-top-left-radius: 0;
      border-bottom-left-radius: 0;
    }
  }

  &:focus,
  &:active {
    // stylelint-disable-next-line -- generated by polaris-migrator DO NOT COPY
    z-index: var(--pc-button-focused);
  }

  &.primary,
  &.destructive {
    margin-left: var(--p-space-025);

    // stylelint-disable-next-line selector-max-class -- generated by polaris-migrator DO NOT COPY
    &.outline {
      margin-left: 0;
      border-left: 0;
    }
  }

  &::after {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
  }
}
// stylelint-disable selector-max-combinators, selector-max-specificity -- generated by polaris-migrator DO NOT COPY
[data-buttongroup-segmented='true'] {
  .Button,
  .Button::after {
    border-radius: 0;

    // Bump specificity
    #{$se23} & {
      border-radius: 0;
    }
  }

  > :first-child .Button,
  > :first-child .Button::after {
    border-radius: 0;
    border-top-left-radius: var(--p-border-radius-1);
    border-bottom-left-radius: var(--p-border-radius-1);

    #{$se23} & {
      border-top-left-radius: var(--p-border-radius-2);
      border-bottom-left-radius: var(--p-border-radius-2);
    }
  }

  > :last-child .Button,
  > :last-child .Button::after {
    border-radius: 0;
    border-top-right-radius: var(--p-border-radius-1);
    border-bottom-right-radius: var(--p-border-radius-1);

    #{$se23} & {
      border-top-right-radius: var(--p-border-radius-2);
      border-bottom-right-radius: var(--p-border-radius-2);
    }
  }

  > :last-child:first-child .Button,
  > :last-child:first-child .Button::after {
    border-radius: var(--p-border-radius-1);

    #{$se23} & {
      border-radius: var(--p-border-radius-2);
    }
  }
}

[data-buttongroup-connected-top='true'] {
  > :first-child .Button,
  > :first-child .Button::after {
    border-top-left-radius: 0;
  }

  > :last-child .Button,
  > :last-child .Button::after {
    border-top-right-radius: 0;
  }
}

[data-buttongroup-full-width='true'] {
  .Button {
    display: flex;
    width: 100%;
  }
}
// stylelint-enable selector-max-combinators, selector-max-specificity
