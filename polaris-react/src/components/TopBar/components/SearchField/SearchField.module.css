.SearchField {
  /* stylelint-disable -- Polaris component custom properties */
  --pc-search-field-backdrop: 1;
  --pc-search-field-input: 2;
  --pc-search-field-icon: 3;
  --pc-search-field-action: 3;
  --pc-search-field-icon-size: 18px;
  /* stylelint-enable */
  z-index: var(--p-z-index-11);
  position: relative;
  display: flex;
  flex: 1 1 auto;
  align-items: center;
  border: var(--p-border-width-025) solid transparent;
  width: 100%;
}

/* We have both a focused class and a focus pseudo selector here
   because we allow "faked" focus for when the search is still
   active, but is not actually the focused element in the DOM
   (for example, while selecting a value from a filter in the
   search this input controls) */
.focused .Input,
.Input:focus {
  /* border: none; */
  color: var(--p-color-text-inverse);

  &::placeholder {
    color: var(--p-color-text-inverse-secondary);
  }
}

.Input:focus-visible {
  ~ .Backdrop {
    /* stylelint-disable-next-line -- generated by polaris-migrator DO NOT COPY */
    @mixin focus-ring base, 0, focused;
  }

  ~ .BackdropShowFocusBorder {
    /* stylelint-disable-next-line -- generated by polaris-migrator DO NOT COPY */
    border: var(--p-border-width-025) solid var(--pc-top-bar-border);
  }

  /* stylelint-disable-next-line -- generated by polaris-migrator DO NOT COPY */
  ~ .Icon svg {
    fill: var(--p-color-icon-secondary);
  }
}

.Input:focus-visible:not(:active) {
  /* stylelint-disable-next-line selector-max-specificity -- set Backdrop outline styles */
  ~ .Backdrop {
    outline: var(--p-border-width-050) solid var(--p-color-border-focus);
    outline-offset: var(--p-space-050);
  }

  /* stylelint-disable-next-line selector-max-combinators, selector-max-specificity -- set Icon fill */
  ~ .Icon svg {
    fill: var(--p-color-icon-secondary);
  }
}

.focused {
  .BackdropShowFocusBorder {
    /* stylelint-disable-next-line -- generated by polaris-migrator DO NOT COPY */
    border: var(--p-border-width-025) solid var(--pc-top-bar-border);
  }

  /* stylelint-disable-next-line -- generated by polaris-migrator DO NOT COPY */
  .Icon svg {
    fill: var(--p-color-icon-inverse);
  }
}

.Input {
  /* stylelint-disable-next-line -- generated by polaris-migrator DO NOT COPY */
  @mixin text-style-input;
  /* stylelint-disable-next-line -- generated by polaris-migrator DO NOT COPY */
  z-index: var(--pc-search-field-input);
  height: 32px;
  width: 100%;
  /* stylelint-disable-next-line -- polaris component custom properties */
  padding: 0 calc(var(--pc-search-field-icon-size) + var(--p-space-300));
  border: var(--p-border-width-0165) solid var(--p-color-border-inverse);
  border-radius: var(--p-border-radius-200);
  background-color: transparent;
  outline: none;
  color: var(--p-color-text-inverse-secondary);
  will-change: fill, color;
  transition: fill var(--p-motion-duration-200) var(--p-motion-ease),
    color var(--p-motion-duration-200) var(--p-motion-ease);

  &:hover {
    border-color: var(--p-color-border-inverse-hover);
  }

  &:active,
  &:focus {
    box-shadow: inset 0 0 0 var(--p-border-width-025)
      var(--p-color-border-inverse-active);
  }

  &::placeholder {
    color: var(--p-color-text-inverse-secondary);
  }

  &::-webkit-search-decoration,
  &::-webkit-search-cancel-button {
    appearance: none;
  }
}

.Icon {
  position: absolute;
  /* stylelint-disable-next-line -- generated by polaris-migrator DO NOT COPY */
  z-index: var(--pc-search-field-icon);
  top: 50%;
  left: var(--p-space-200);
  display: flex;
  /* stylelint-disable-next-line -- custom property */
  height: var(--pc-search-field-icon-size);
  /* stylelint-disable-next-line -- custom property */
  width: var(--pc-search-field-icon-size);
  pointer-events: none;
  transform: translateY(-50%);

  svg {
    fill: var(--p-color-icon-secondary);
  }
}

.Clear {
  /* stylelint-disable-next-line -- generated by polaris-migrator DO NOT COPY */
  @mixin focus-ring wide;
  position: absolute;
  right: var(--p-space-100);
  /* stylelint-disable-next-line -- custom property */
  z-index: var(--pc-search-field-action);
  border: none;
  appearance: none;
  background: transparent;
  padding: var(--p-space-100);

  svg {
    fill: var(--p-color-icon-secondary);
  }

  &:focus,
  &:hover {
    outline: none;
  }

  &:hover svg,
  &:focus svg {
    fill: var(--p-color-icon-inverse);
  }

  &:focus-visible {
    /* stylelint-disable-next-line -- generated by polaris-migrator DO NOT COPY */
    @mixin focus-ring wide, 0, focused;
  }

  &:active {
    svg {
      fill: var(--p-color-icon-active);
    }

    &::after {
      border: none;
    }
  }
}

.Backdrop {
  /* stylelint-disable-next-line -- generated by polaris-migrator DO NOT COPY */
  @mixin no-focus-ring;
  position: absolute;
  /* stylelint-disable-next-line -- generated by polaris-migrator DO NOT COPY */
  z-index: var(--pc-search-field-backdrop);
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  background-color: var(--p-color-bg-surface-inverse);
  border-radius: var(--p-border-radius-200);
}
